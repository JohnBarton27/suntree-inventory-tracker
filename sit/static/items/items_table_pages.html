<div>Page:
    {% if selected_page >= 2 %}
        <span class="pageBtn" onclick="goToPage({{ 0 }})"><<</span>
    {% endif %}

    {% if selected_page >= 1 %}
        <span class="pageBtn" onclick="goToPage({{ selected_page - 1 }})"><</span>
    {% endif %}

    {% if selected_page > 2 %}
        <span>...</span>
    {% endif %}

    {% for n in range(num_pages) %}
        {% if (selected_page - 2) <= n <= (selected_page + 2) %}
            <span class="pageBtn" onclick="goToPage({{ n }})" {% if selected_page == n %} style="font-weight: bold; background-color: #ddd; cursor: default;" {% endif %}>{{ n + 1 }}</span>
        {% endif %}
    {% endfor %}

    {% if selected_page < num_pages - 3 %}
        <span>...</span>
    {% endif %}


    {% if num_pages - selected_page > 1 %}
        <span class="pageBtn" onclick="goToPage({{ selected_page + 1 }})">></span>
    {% endif %}

    {% if num_pages - selected_page > 2 %}
        <span class="pageBtn" onclick="goToPage({{ num_pages - 1 }})">>></span>
    {% endif %}

</div>

<script type="application/javascript">
    function goToPage(number) {
        let url = "/api/items/page"
        $('#itemsTable').html('<div class="loader" style="display: block;"></div>');
        $.ajax({
            url: url,
            data: {
                'page': number
            },
            type: 'POST',
            success: function(data){
                // Update data on page
                $('#item_list').html(data);
            }
        });
    }
</script>